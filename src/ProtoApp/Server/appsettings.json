{
  "logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore.Mvc.Infrastructure": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "Microsoft.Hosting.Lifetime": "Debug",
      "Opc.Ua.Client": "Error"
    },
    "configurator": {
      "stdoutLogger": {
        "type": "Tlabs.Config.StdoutLoggingConfigurator, Tlabs.Core",
        "options": {
          "TimestampFormat": "HH:mm:ss.fff",   //shortend timestamp
          "includeCategory": true
        }
      },
      "fileLogger": {
        "type": "Tlabs.Config.FileLoggingConfigurator, Tlabs.Core",
        "options": {
          "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore.Mvc.Infrastructure": "Warning",
            "Microsoft.EntityFrameworkCore": "Warning",
            "Microsoft.EntityFrameworkCore.Model.Validation": "Error",
            "Microsoft.Hosting.Lifetime": "Debug",
            "Opc.Ua.Client": "Error"
          },
          "IncludeScopes": false,
          "PathFormat": "%EXEPATH%/log/log-{Hour}.txt",
          "RetainedFileCountLimit": 15,
          "RollOnFileSizeLimit": true
          // "FileSizeLimitBytes": 102400,
        }
      }
    }
  },

  "webHosting": {
    "urls": "http://+:8001",
    "webroot": "rsc/webroot",
    "configurator": {
      "assemblyPath": {
        "ord": 10,
        "type": "Tlabs.Config.AssemblyPathWebHostConfigurator, Tlabs.SrvBase",
        "config": {
          "path": ".;binx"
        }
      },
      "serverKestrel": {
        "ord": 100,
        "type": "Tlabs.Config.KestrelConfigurator, Tlabs.SrvBase",
        "options": {
          "Limits": {
            "MaxRequestBodySize": 33330000
          }
        }
      },
      "ASPNET.MVC": {
        "type": "Tlabs.Config.MvcSvcConfigurator, Tlabs.SrvBase",
        "config": {
          // "001_filterApiKeyAuth": "Tlabs.Server.Auth.ApiKeyRegistryAuthFilter, Tlabs.SrvBase",
          // "002_filterUserAuth": "Tlabs.Server.Auth.AuthCookieAuthorizationFilter, Tlabs.SrvBase",
          // "003_filterParams": "Tlabs.Server.Auth.RoleDefaultParamsFilter, Tlabs.SrvBase",
          "004_filterHttpEncoding": "Tlabs.Server.Url.RouteParamDecodeFilter, Tlabs.SrvBase",
          "formatting": "Indented" //"None"
        }
      },
      "httpEncodingFilter":{
        "type":"Tlabs.Server.Url.RouteParamDecodeFilter+Configurator, Tlabs.SrvBase"
      }
    }
  },

  "applicationMiddleware": {
    "shutdownHandler": {
      "ord": 9,
      "type": "Tlabs.Config.ShutdownConfigurator, Tlabs.SrvBase"
    },
    "staticPages": {
      "ord": 10,
      "type": "Tlabs.Config.StaticContentConfigurator, Tlabs.SrvBase",
      "config": {
        "defaultPage": "index.html",
        "favicon.ico": "favicon.ico",
        "/apidoc": "rsc/apidoc"
      }
    },
    "debugPages": {
      "ord": 20,
      "type": "Tlabs.Config.DebugPagesConfigurator, Tlabs.SrvBase"
    },
    "websockets": {
      "ord": 30,
      "type": "Tlabs.Config.WebsocketConfigurator, Tlabs.SrvBase"
    },
    "MVC": {
      "ord": 500,
      "type": "Tlabs.Config.MvcMiddlewareConfigurator, Tlabs.SrvBase"
    },
    "DataStoreValidation": {
      "ord": 610,
      "type": "Tlabs.Data.DataStoreValidationConfigurator, Tlabs.SrvBase"
    }
  },

  "applicationServices": {
    "console": {
      "type": "Tlabs.Config.ConsoleOutputDistributer+Configurator, Tlabs.SrvBase"
    },
    "Json.Serializer": {
      "type": "Tlabs.Data.Serialize.Json.JsonFormat+Configurator, Tlabs.Data"
    },
    "Persistence.BaseEntities": {
      "type": "Tlabs.Data.RepositoriesConfigurator, Tlabs.Data",
      "config": {
        "timeZone": "UTC"
      }
    },
    "Persistence.UserEnityModel": {
      "type": "Tlabs.Data.Store.UserEnityModel, Tlabs.EfDataStore"
    },
    "Persistence.DataStore": {
      "type": "Tlabs.Data.Store.DataStoreConfigurator`1, Tlabs.EfDataStore & Tlabs.Data.Store.AggregatingDStoreCtxConfigurator, Tlabs.EfDataStore"
    },
    "Persistence.SqLiteDbProvider": {
      "type": "Tlabs.Data.Store.SqliteConfigurator, Proto.Module",
      "config": {
        "connection": "DataSource=rsc/store/__protoDb.sqlite;Foreign Keys=True", //;Default Timeout=35;Pooling=True"
        "migrationAssembly": "Proto.Module"
      }
    },

    "IdentityOptions": {
      "type": "Tlabs.Config.IdentityConfigurator, Tlabs.SrvBase",
      "config": {
        "idleLogoffMinutes": 30,
        "RequiredLength": 0,
        "RequireDigit": false,
        "RequireNonAlphanumeric": false,
        "RequireUppercase": false,
        "RequireLowercase": false,
        "RequireUniqueEmail": false
      }
    },
    "wsMessaging": {
      "type": "Tlabs.Msg.Intern.WsMessenger+Configurator, Tlabs.SrvBase"
    },

    //Proto Modules
    "protoEntityModel":  {"type": "Tlabs.Data.Store.ProtoDataEntityModel, Proto.Module"}

  },

  "appMessage": {}
}
